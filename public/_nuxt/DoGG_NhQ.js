import{l as d,I as h,J as m,K as v,e as w,L as g,c,a as u,M as x,N as S,h as y,t as f,O as k,o as p}from"./CDeVaodF.js";async function _(...e){var i;const a=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(a);const[t,o,r]=e;if(!t||typeof t!="string")throw new TypeError("[nuxt] [callOnce] key must be a string: "+t);if(o!==void 0&&typeof o!="function")throw new Error("[nuxt] [callOnce] fn must be a function: "+o);const n=d();(r==null?void 0:r.mode)==="navigation"&&n.hooks.hookOnce("page:start",()=>{n.payload.once.delete(t)}),!n.payload.once.has(t)&&(n._once||(n._once={}),(i=n._once)[t]||(i[t]=o()||!0),await n._once[t],n.payload.once.add(t),delete n._once[t])}const E="$s";function b(...e){const a=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(a);const[t,o]=e;if(!t||typeof t!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+t);if(o!==void 0&&typeof o!="function")throw new Error("[nuxt] [useState] init must be a function: "+o);const r=E+t,n=d(),i=h(n.payload.state,r);if(i.value===void 0&&o){const s=o();if(m(s))return n.payload.state[r]=s,s;i.value=s}return i}const C=v("users",{state:()=>({users:[]}),actions:{async fetch(){const e=await $fetch("https://jsonplaceholder.typicode.com/users");this.users=e}}}),$=w({__name:"index",async setup(e){let a,t;const o=C();[a,t]=g(()=>_(o.fetch,"$8XRl_Fht1s")),await a,t();const r=b("counter",()=>0);function n(){throw k({message:"Status: 500, Message: Internal Server Error"})}return(i,s)=>(p(),c("div",null,[s[2]||(s[2]=u("h3",null,"List of users",-1)),(p(!0),c(x,null,S(y(o).users,l=>(p(),c("li",null,f(l.id)+" -- "+f(l.name),1))),256)),s[3]||(s[3]=u("br",null,null,-1)),u("h3",null,"Counter: "+f(y(r)),1),u("button",{onClick:s[0]||(s[0]=l=>r.value++)},"Increase counter"),u("button",{onClick:s[1]||(s[1]=l=>n())},"Trigger err")]))}});export{$ as default};
